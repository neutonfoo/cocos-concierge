{% extends 'base.html' %} {% block scripts %}
<script src="{{ url_for('static', filename='js/status.js') }}"></script>
{% endblock %} {% block body %} {% for app_type in ['services', 'daemons'] %} {%
for app_name in projects[app_type].keys()|sort() %}
<a class="btn btn-primary btn-sm" href="#{{ app_name }}">#{{ app_name }}</a>
{% endfor %} {% endfor %} {% for app_type in ['services', 'daemons'] %}
<h4 class="my-3">{{ app_type[0]|upper }}{{ app_type[1:] }}</h4>
<div class="row">
  {% for app_name in projects[app_type].keys()|sort() %}
  <div class="col-xs-12 mb-3">
    <div class="card" id="{{ app_name }}">
      <div class="card-header">
        {% if app_type == "services" %}
        <a
          href="https://cocoshouse.xyz/{{ app_name }}"
          class="link-primary"
          target="_blank"
          >{{ app_name }}</a
        >
        {% else %} {{ app_name }} {% endif %}
      </div>
      <div class="card-body">
        <div class="row">
          {% for log_type in ['app', 'deploy'] %}
          <div class="col-12 col-md-6">
            <h6 class="mb-2 mt-2 mt-md-0">
              {{ log_type[0]|upper }}{{ log_type[1:] }} log
            </h6>
            <textarea
              class="form-control {{ log_type }}-log"
              id="{{ app_name }}-{{ log_type }}-log"
              rows="10"
              readonly
            ></textarea>
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="card-footer text-body-secondary">
        <a
          href="https://github.com/{{ projects[app_type][app_name] }}"
          class="card-link link-secondary"
          target="_blank"
        >
          GitHub</a
        >
        <button
          type="button"
          class="card-link btn btn-sm btn-success restart-button"
          data-apptype="{{ app_type[:-1] }}"
          data-appname="{{ app_name }}"
        >
          Restart
        </button>
        <button
          type="button"
          class="card-link btn btn-sm btn-warning rebuild-button"
          data-apptype="{{ app_type[:-1] }}"
          data-appname="{{ app_name }}"
        >
          Rebuild
        </button>
        <button
          type="button"
          class="card-link btn btn-sm btn-danger powerdown-button"
          data-apptype="{{ app_type[:-1] }}"
          data-appname="{{ app_name }}"
        >
          Power Down
        </button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endfor %} {% endblock %}
